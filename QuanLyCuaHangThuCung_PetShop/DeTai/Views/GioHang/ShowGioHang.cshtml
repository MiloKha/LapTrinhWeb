@using DeTai.Models
@model List<GioHang>
@{
    ViewBag.Title = "Giỏ hàng";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/Context/GioHangStyle.css" rel="stylesheet" />

<h3><br />Giỏ hàng</h3>
<hr />
<div class="cart-container container">
    @if (Model.Count() == 0)
    {
        <div style="display:flex; justify-content:center; align-items:center;min-height:500px;">
            <div>
                <h3>KHÔNG CÓ SẢN PHẨM</h3>
            </div>
        </div>
    }
    else
    {
        <div style="background-color:white;width:90%;margin:50px auto;border-radius:10px;">
            <table class="cart-list">
                <tr style="background-image: linear-gradient(to right, #9966ff, #3333ff);">
                    <th>Mã sản phẩm</th>
                    <th>Tên sản phẩm</th>
                    <th>Ảnh bìa</th>
                    <th>Số lượng</th>
                    <th>Đơn giá</th>
                    <th>Thành tiền</th>
                    <th></th>
                    <th></th>

                </tr>
                @foreach (GioHang item in Model)
                {
                    using (Html.BeginForm("SuaGiohang", "GioHang", new { @id = item.MASP }))
                    {
                        <tr class="cart-item">
                            <td>@item.MASP</td>
                            <td>@item.TENSP</td>
                            <td>
                                <img src="~/Images/@item.HINHSP" alt="..." width="80" height="100" />
                            </td>
                            <td>
                                <input name="txtSoLuong" type="text" value="@item.SoLuong" />
                            </td>
                            <td>@item.ThanhTien</td>
                            <td>@item.TongTien</td>
                            <td class="btn-cart">
                                <a href="@Url.Action("XoaGiohang", "GioHang", new { @id = item.MASP, @URLstr = Request.Url.ToString() })">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                                        <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z" />
                                    </svg>
                                </a>
                            </td>
                            <td class="btn-cart">
                                <button type="submit" class="btn btn-success">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z" />
                                        <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z" />
                                    </svg>
                                </button>
                            </td>
                        </tr>
                    }


                }
                <tr style="background-image: linear-gradient(to right, #9966ff, #3333ff); ">
                    <td></td>
                    <td></td>
                    <td>
                        <h5 style="color:white;">Tổng cộng :</h5>
                    </td>
                    <td>
                        <h5 style="color:red;font-weight:bold;">@ViewBag.TongThahTien</h5>
                    </td>
             </tr>
            </table>
        </div>
    }
</div>


